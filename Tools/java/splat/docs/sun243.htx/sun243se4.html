<!DOCTYPE html> 
<html> 
<head><title>Supported data formats</title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun243.css" /> 
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>
<div class="crosslinks"><ul class='nav'> <li class="prev"> <a 
href="sun243se3.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">SPLAT-VO &#x2013; A VO-enabled Spectral Analysis Tool</li> <li class="next"><a 
href="sun243se5.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun243.html#toc">TOC &#8593</a></li> </ul></div>
<h3 class="sectionHead"><span class="titlemark">4    </span> <a 
 id="x5-460004"></a>Supported data formats<a name="xref_data_formats"></a></h3>
<div class="sectionTOCS">
&#x00A0;<span class="subsectionToc" >4.1 <a 
href="#x5-470001">Handling 2 and 3D data</a></span>
</div>
<!--l. 3422--><p class="noindent" ><span class="sf">SPLAT-VO </span>&#x00A0;can read and write spectra stored in a wide variety of formats, either stored as 1D spectra
or as columns in tables. 1D spectral formats supported are Starlink NDF &#x0026; NDX, FITS and simple
TEXT files. Table formats supported are FITS (binary and ascii), VOTable and more complex
TEXT files. The 1D data formats currently have the best coordinate system support, so are
recommended when a choice can be made. Some support is available for 2 and 3D data, see
later).
<!--l. 3430--><p class="noindent" >Normally <span class="sf">SPLAT-VO </span>&#x00A0;differentiates these types using a preset list of file extensions, for instance NDFs
can only be stored in container files that have the extension <code>.sdf</code>, FITS files usually have one of the
extensions <code>.fits</code> or <code>.fit</code> and TEXT files <code>.txt</code> or <code>.lis</code> and NDX format spectra, when
stored on disk, will have extension <code>.xml</code>. However, you can choose a specific format when
opening a file using the <b>File-&#x003E;Open</b> dialogue, so you can ask that a TEXT file is opened as a
table, this allows you to select the columns. There is also a special type known as <code>guess</code>.
When you choose that attempts to open the spectrum as different types are made until one
succeeds, or the possibilities are exhausted. Spectra retrieved by the VO often do not have
an extension, and <span class="sf">SPLAT-VO </span>&#x00A0;tries to discover their types by checking the mime type
returned.
<!--l. 3443--><p class="noindent" >You can specify a type for all the spectra opened on the command-line using the <span class="obeylines-h"><span class="verb">--type</span></span> argument.
Valid values for <span class="obeylines-h"><span class="verb">--type</span></span> are:
     <div class="quote">
     <div class="fancyvrb" id="fancyvrb10">  <a 
 id="x5-46002r1"></a>&#x00A0;&#x00A0;fits<br class="fancyvrb" /><a 
 id="x5-46004r2"></a>&#x00A0;&#x00A0;hds<br class="fancyvrb" /><a 
 id="x5-46006r3"></a>&#x00A0;&#x00A0;text<br class="fancyvrb" /><a 
 id="x5-46008r4"></a>&#x00A0;&#x00A0;hdx<br class="fancyvrb" /><a 
 id="x5-46010r5"></a>&#x00A0;&#x00A0;table<br class="fancyvrb" /><a 
 id="x5-46012r6"></a>&#x00A0;&#x00A0;line&#x00A0;ids<br class="fancyvrb" /><a 
 id="x5-46014r7"></a>&#x00A0;&#x00A0;guess</div>
                                                                                       
                                                                                       
     </div>
<!--l. 3457--><p class="noindent" >You free to truncate these values as long as they remain unique (so <span class="obeylines-h"><span class="verb">--type&#x00A0;line</span></span> will work for line
identifiers).
<!--l. 3460--><p class="noindent" >Currently line identifier catalogues represent a special case and currently may have a single format -
TEXT based in files with extension <code>.ids</code>.
<!--l. 3463--><p class="noindent" >1D spectra stored in TEXT files must have the format of one, two or three columns of data,
separated by whitespace (that is spaces or tabs). Any comments in the file must be indicated by
a hash sign, blank lines are also allowed. The three columns should have the following
values:
     <div class="quote">
     <div class="fancyvrb" id="fancyvrb11">  <a 
 id="x5-46016r1"></a>&#x00A0;&#x00A0;[wavelength]&#x00A0;count&#x00A0;[error-in-count]</div>
     </div>
<!--l. 3472--><p class="noindent" >The wavelength and error columns being optional (if you don&#x2019;t have a wavelength column a simple
row index is used, note you cannot have errors without wavelengths) . If you choose to open a TEXT
file as a table you can select which columns should be used for these values, and the following rules
apply:
     <ul class="itemize1">
     <li class="itemize">Each table row is represented by a single text line
     </li>
     <li class="itemize">Anything after a &#x2018;#&#x2019; character on a line is ignored (except for optional heading line)
     </li>
     <li class="itemize">Blank lines are ignored
     </li>
     <li class="itemize">Within a line, fields are separated by one or more whitespace characters (space or tab)
     </li>
     <li class="itemize">A  field  is  either  a  sequence  of  non-whitespace  characters  or  a  sequence  of  characters
     between  two  matching  quote  characters  (single  (&#x2019;)  or  double  (&#x0022;)  quotes)  -  spaces  are
     therefore allowed in quoted fields.
     </li>
     <li class="itemize">In a quoted field any character preceded by a backslash is interpreted literally, so it is
     possible to insert quotes into a quoted string
     </li>
     <li class="itemize">An empty string (two adjacent quotes) represents a null element
     </li>
     <li class="itemize">All lines must contain exactly the same number of fields
                                                                                       
                                                                                       
     </li>
     <li class="itemize">An optional heading line may be included: if the last comment line (line starting with
     a &#x2018;#&#x2019; before the first data line) contains the same number of fields as the columns in the
     table, these fields are interpreted as the headings (names) of the columns</li></ul>
<!--l. 3497--><p class="noindent" >The format of line identification catalogues is like that of simple TEXT spectral files, except the second
column contains a string that identifies the line (with no spaces, <em>i.e.</em>&#x00A0;<code>H-alpha</code> not <code>H alpha</code>). It is also
possible to define the system of the coordinate values in a header section, see the <span class="sf">SPLAT-VO </span>&#x00A0;built-in
catalogues for examples of this.
<!--l. 3503--><p class="noindent" >NDFs stored within container files can be accessed, but only by entering the full HDS path on the
command-line or in the <b>File-&#x003E;Open</b> dialogue. FITS extensions may also be open in this fashion (by
appending the extension number in square brackets).
<!--l. 3508--><p class="noindent" >An alternative to specifying the component information is to use the component browser window <img 
src="browse.gif" alt="PIC"  
>
, to see the contents of FITS and NDF files and choose the component to display directly. This uses the
same techniques as the special <code>guess</code> type.
<!--l. 3513--><p class="noindent" >Internally all these formats are stored as double precision coordinates and data values.
<span class="sf">SPLAT-VO </span>&#x00A0;only requires that <em>coordinates increase or decrease monotonically</em> when performing any
analyses.
<a 
 id="x5-46017r60"></a>
<h4 class="subsectionHead"><span class="titlemark">4.1    </span> <a 
 id="x5-470001"></a>Handling 2 and 3D data</h4>
<!--l. 3520--><p class="noindent" >If you have images or cubes that contain data that you want to view as spectra in some fashion, then
<span class="sf">SPLAT-VO </span>&#x00A0;will attempt to do this for you. There are three fundamental modes for doing
this:
     <ul class="itemize1">
     <li class="itemize">Collapsing images into a <code>spectrum</code> or the planes of a cube into a set of <code>spectra</code> by adding
     together all values that lie perpendicular to the dispersion axis (so the spectra run along
     this axis, what a good spectral displaying tool should do).
     </li>
     <li class="itemize">Extracting all spectra from each data line running along the dispersion axis of images and
     cubes.
     </li>
     <li class="itemize">Vectorizing  the  whole  data  set  into  a  single  data  line  without  any  reference  to  its
     dimensionality  (in  effect  mapping  the  whole  image/cube  as  a  single  contiguous  data
     line).
     </li></ul>
<!--l. 3539--><p class="noindent" >The default is to collapse. When collapsing cubes you have the option of which axis to step along
selecting image planes, this is known as the <code>select</code> axis. To determine which option is used to
handle your cubes or images you can either set values on the command-line, along with
your spectra, or choose options in the open file dialogue. A command line that uses axis
3 as the dispersion axis and steps along axis 2 when choosing image planes might look
like:
                                                                                       
                                                                                       
     <div class="quote">
     <div class="fancyvrb" id="fancyvrb12">  <a 
 id="x5-47002r1"></a>&#x00A0;&#x00A0;%&#x00A0;splat&#x00A0;--ndaction&#x00A0;collapse&#x00A0;--dispax&#x00A0;3&#x00A0;--selectax&#x00A0;2&#x00A0;&#x003C;spectral_cube&#x003E;&#x00A0;&#x0026;</div>
     </div>
<!--l. 3551--><p class="noindent" >or in shorthand:
     <div class="quote">
     <div class="fancyvrb" id="fancyvrb13">  <a 
 id="x5-47004r1"></a>&#x00A0;&#x00A0;%&#x00A0;splat&#x00A0;-n&#x00A0;c&#x00A0;-d&#x00A0;3&#x00A0;-s&#x00A0;2&#x00A0;&#x003C;spectral_cube&#x003E;&#x00A0;&#x0026;</div>
     </div>
<!--l. 3557--><p class="noindent" >If you don&#x2019;t choose a dispersion axis <span class="sf">SPLAT-VO </span>&#x00A0;will make a good intelligent guess about this and
step along the first axis that isn&#x2019;t the dispersion axis. The other possible values for <code>ndaction</code> are
<code>extract</code> and <code>vectorize</code>. These are described as <code>extract all spectra</code> and <code>open whole as 1D</code>,
respectively, in the open file dialogue.
                                                                                       
                                                                                       
<div class="crosslinks"> <div class="copyright"><span class="pushright">Copyright &#x00A9;&#x00A0;2001-2005 Council for the Central Laboratory of the Research Councils <br 
class="newline" />Copyright &#x00A9;&#x00A0;2006-2007 Particle Physics and Astronomy Research Council <br 
class="newline" />Copyright &#x00A9;&#x00A0;2007-2009 Science and Technology Facilities Council <br 
class="newline" />Copyright &#x00A9;&#x00A0;2010-2017 Peter W. Draper <br 
class="newline" />Copyright &#x00A9;&#x00A0;2013 German Astrophysical Virtual Observatory (GAVO)</span></div> <ul class='nav'> <li class="prev"> <a 
href="sun243se3.html" >&#8592Prev</a>&#x00A0;</li> <li class="title">SPLAT-VO &#x2013; A
VO-enabled Spectral Analysis Tool</li> <li class="next"><a 
href="sun243se5.html" >Next&#8594</a>&#x00A0;</li> <li class="toc"><a 
href="sun243.html#toc">TOC &#8593</a></li> </ul></div>
<!--l. 3563--><p class="noindent" ><a 
 id="tailsun243se4.html"></a> 
</body> 
</html>