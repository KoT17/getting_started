<!DOCTYPE html> 
<html> 
<head><title>Query VO using ObsCore TAP</title> 
<meta charset=utf-8/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<link rel="stylesheet" type="text/css" href="sun243.css" /> 
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=MML_HTMLorMML"></script><style type="text/css">.MathJax_MathML {text-indent: 0;}</style></head><body 
>

<h4 class="subsectionHead"><span class="titlemark">3.4    </span> <a 
 id="x13-120004"></a>Query VO using ObsCore TAP<a name="xref_obscore_window"></a></h4>
<!--l. 1391--><p class="noindent" >Besides SSAP, SPLAT can also query VO services supporting <b>ObsCore </b> (Observation Data Model
Core) components via TAP (Table Access Protocol). This services are known as ObsTAP services.
There are two ways of doing that in <span class="sf">SPLAT-VO </span> by using a cone search interface, like the
SSAP query, or by sending an ADQL query. ADQL stands for Astronomical Data Query
Language, based on SQL. There are introductions and tutorials for ADQL for instance at
http://docs.g-vo.org/adql (Markus Demleitner) or http://is.gd/ADQLTutorial (Simon
Murphy).
<!--l. 1399--><p class="noindent" ><b>Server Selection</b> The server selection interface works in the same way as the server selection
in the SSAP window. Just that the servers list contains ObsTap services instead of SSAP
services, and there are no optional parameters, as all parameters can be queried using
TAP.
<!--l. 1404--><p class="noindent" ><b>Simple Search</b> The simple search interface uses the same basic parameters as the SSAP search, with
the same functionality. Here you can select the data type for your query, wither spectrum or
timeseries.
<div class="center">
<img 
src="obscoresimple.gif" alt="PIC"  
> </div>
<!--l. 1410--><p class="noindent" ><b>ADQL Search</b> The ADQL search is more flexible and more powerful than the simple
cone search. The main part is a text area, which can be edited. The beginning of the query
<div class="verb">
SELECT&#x00A0;TOP&#x00A0;10000&#x00A0;*&#x00A0;from&#x00A0;ivoa.Obscore&#x00A0;WHERE&#x00A0;dataproduct_type=&#x2019;spectrum&#x2019;
</div>
<!--l. 1416--><p class="noindent" >will get the first 10000 spectra from the selected servers. The TOP value may be changed to another
value, if necessary. This query should be then refined or completed, either by choosing the
parameters and expressions from the options provided (which will create a simple query) or
by editing directly the the text area. For example, you can exchange &#x2019;spectrum&#x2019; through
&#x2019;timeseries&#x2019; to retrieve time series Please refer to the ObsCore standard for the available
                                                                                       
                                                                                       
parameters. (http://www.ivoa.net/documents/ObsCore/). Although this window allows
all types of ObsTap queries, <span class="sf">SPLAT-VO </span>&#x00A0;can handle and display only those results from
queries with <span class="obeylines-h"><span class="verb">dataproduct_type=&#x2019;spectrum&#x2019;</span></span> or <span class="obeylines-h"><span class="verb">dataproduct_type=&#x2019;timeseries&#x2019;</span></span>. <div class="center"> <img 
src="obscoreadql.gif" alt="PIC"  
>
</div>
The example below shows a query for spectra including 6500 angstroms, spectral resolution better
than 15 angstroms, spatial resolution better than 2 arcseconds FWHM, and exposure time longer that
3600 seconds:  <div class="verb">
SELECT&#x00A0;*&#x00A0;from&#x00A0;ivoa.Obscore
&#x00A0;<br />WHERE&#x00A0;dataproduct_type=&#x2019;spectrum&#x2019;
&#x00A0;<br />AND&#x00A0;em_min&#x00A0;&#x003C;&#x00A0;650E-9
&#x00A0;<br />AND&#x00A0;em_max&#x00A0;&#x003E;&#x00A0;650E-9
&#x00A0;<br />AND&#x00A0;em_res_power&#x00A0;&#x003E;&#x00A0;6500/15.
&#x00A0;<br />AND&#x00A0;s_resolution&#x00A0;&#x003C;&#x00A0;2
&#x00A0;<br />AND&#x00A0;t_exptime&#x00A0;&#x003E;&#x00A0;3600
</div>
<!--l. 1437--><p class="noindent" ><b>Query results</b> The ObsCore query results interface works in the same way as described in the <a 
href="sun243su6.html#x12-110003">query
results</a> part of the SSAP window section. (&#x00A7;<a 
href="sun243su6.html#x12-110003">3.3<!--tex4ht:ref: query_results --></a>).
<!--l. 1442--><p class="noindent" ><b>Implementation status</b>
<!--l. 1444--><p class="noindent" >ObsCore and TAP are being developed by the IVOA (<a 
href="http://www.ivoa.net/" >International Virtual Observatory
Alliance</a><span class="footnote-mark"><a 
href="#fn2x0" id="fn2x0-bk"><sup class="textsuperscript">2</sup></a></span><a 
 id="x13-12001f2"></a>).
<!--l. 1449--><p class="noindent" >
                                                                                       
                                                                                       
                                                                                       
                                                                                       
<div class="footnotes"><!--l. 1446--><p class="noindent" ><span class="footnote-mark"><a 
href="#fn2x0-bk" id="fn2x0"><sup class="textsuperscript">2</sup></a></span>http://www.ivoa.net/                                                                  </div> 
<!--l. 1450--><p class="noindent" ><a 
 id="tailsun243su7.html"></a> 
</body> 
</html>